Index: chess/src/StartWindow.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport javax.imageio.ImageIO;\r\nimport sounds.BackgroundMusicPlayer; // Đảm bảo bạn đã import lớp này\r\n\r\npublic class StartWindow extends JFrame {\r\n    private JButton startButton;\r\n    private JButton playWithComputerButton;\r\n    private JButton createRoomButton;\r\n    private JButton findTableButton;\r\n    private JButton loginButton; // Nút đăng nhập\r\n    private JButton registerButton; // Nút đăng ký\r\n    private Image backgroundImage;\r\n    private BackgroundMusicPlayer musicPlayer; // Biến cho lớp âm thanh\r\n\r\n    public StartWindow(Main main) {\r\n        setTitle(\"Chào mừng đến với Cờ Tướng AI\");\r\n        setSize(700, 700);\r\n        setLayout(new BorderLayout());\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Tải hình nền\r\n        try {\r\n            InputStream input = getClass().getResourceAsStream(\"/img/HinhNen/choi-co-tuong-voi-may.jpg\");\r\n            if (input == null) {\r\n                throw new IOException(\"Không tìm thấy hình ảnh: /img/HinhNen/choi-co-tuong-voi-may.jpg\");\r\n            }\r\n            backgroundImage = ImageIO.read(input);\r\n        } catch (IOException e) {\r\n            System.out.println(\"Không thể tải hình ảnh nền\");\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Khởi tạo âm thanh nền\r\n        musicPlayer = new BackgroundMusicPlayer();\r\n        musicPlayer.playBackgroundMusic(\"/sounds/nhacNen.wav\"); // Đường dẫn đến âm thanh nền\r\n\r\n        JLabel title = new JLabel(\"Cờ Tướng AI\", JLabel.CENTER);\r\n        title.setFont(new Font(\"Serif\", Font.BOLD, 24));\r\n        add(title, BorderLayout.NORTH);\r\n\r\n        // Khởi tạo các nút với văn bản và hình nền\r\n        startButton = createButtonWithBackground(\"/img/HinhNen/btn3.jpg\", \"Chơi ngay\");\r\n        playWithComputerButton = createButtonWithBackground(\"/img/HinhNen/btn3.jpg\", \"Chơi với máy\");\r\n        createRoomButton = createButtonWithBackground(\"/img/HinhNen/btn3.jpg\", \"Tạo phòng\");\r\n        findTableButton = createButtonWithBackground(\"/img/HinhNen/btn3.jpg\", \"Tìm bàn chơi\");\r\n\r\n        // Đặt kích thước cho các nút\r\n        Dimension buttonSize = new Dimension(200, 50);\r\n        startButton.setPreferredSize(buttonSize);\r\n        playWithComputerButton.setPreferredSize(buttonSize);\r\n        createRoomButton.setPreferredSize(buttonSize);\r\n        findTableButton.setPreferredSize(buttonSize);\r\n\r\n        // Thêm hành động cho các nút\r\n        startButton.addActionListener(e -> {\r\n            setVisible(false);\r\n            main.startGame();\r\n        });\r\n        // Uncomment and implement these actions if needed\r\n        // playWithComputerButton.addActionListener(e -> {\r\n        //     main.playWithComputer(); // Gọi phương thức chơi với máy\r\n        // });\r\n        // createRoomButton.addActionListener(e -> {\r\n        //     main.createRoom(); // Gọi phương thức tạo phòng\r\n        // });\r\n        // findTableButton.addActionListener(e -> {\r\n        //     main.findTable(); // Gọi phương thức tìm bàn chơi\r\n        // });\r\n\r\n        // Tạo panel chứa các nút và đặt chúng vào giữa cửa sổ\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setLayout(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridx = 0;\r\n        gbc.gridy = GridBagConstraints.RELATIVE;\r\n        gbc.insets = new Insets(10, 0, 10, 0); // Khoảng cách giữa các nút\r\n\r\n        buttonPanel.add(startButton, gbc);\r\n        buttonPanel.add(playWithComputerButton, gbc);\r\n        buttonPanel.add(createRoomButton, gbc);\r\n        buttonPanel.add(findTableButton, gbc);\r\n\r\n        add(buttonPanel, BorderLayout.CENTER);\r\n\r\n        // Tạo panel cho các nút đăng nhập và đăng ký\r\n        JPanel authPanel = new JPanel();\r\n        authPanel.setLayout(new FlowLayout(FlowLayout.LEFT)); // Bố trí ở bên trái\r\n        loginButton = new JButton(\"Đăng nhập\");\r\n        registerButton = new JButton(\"Đăng ký\");\r\n\r\n        // Đặt kích thước cho các nút đăng nhập và đăng ký\r\n        loginButton.setPreferredSize(new Dimension(100, 30));\r\n        registerButton.setPreferredSize(new Dimension(100, 30));\r\n\r\n        // Thêm nút vào panel\r\n        authPanel.add(loginButton);\r\n        authPanel.add(registerButton);\r\n\r\n        // Đặt panel đăng nhập và đăng ký vào góc dưới bên trái\r\n        add(authPanel, BorderLayout.SOUTH);\r\n\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    // Phương thức tạo nút với hình nền và văn bản\r\n    private JButton createButtonWithBackground(String imagePath, String text) {\r\n        JButton button = new JButton();\r\n        try {\r\n            InputStream input = getClass().getResourceAsStream(imagePath);\r\n            if (input == null) {\r\n                throw new IOException(\"Không tìm thấy hình ảnh: \" + imagePath);\r\n            }\r\n            ImageIcon icon = new ImageIcon(ImageIO.read(input));\r\n\r\n            // Điều chỉnh kích thước hình ảnh theo kích thước nút\r\n            Image scaledImage = icon.getImage().getScaledInstance(200, 50, Image.SCALE_SMOOTH);\r\n            button.setIcon(new ImageIcon(scaledImage));\r\n\r\n            // Thiết lập văn bản cho nút\r\n            button.setText(text);\r\n            button.setHorizontalTextPosition(SwingConstants.CENTER); // Đặt vị trí văn bản\r\n            button.setVerticalTextPosition(SwingConstants.CENTER);   // Đặt vị trí văn bản\r\n            button.setFont(new Font(\"Arial\", Font.BOLD, 16)); // Cỡ chữ\r\n            button.setForeground(Color.WHITE); // Màu chữ\r\n\r\n            button.setPreferredSize(new Dimension(200, 50));\r\n            button.setContentAreaFilled(false); // Không tô màu nền cho nút\r\n            button.setBorderPainted(false); // Không vẽ viền cho nút\r\n            button.setFocusPainted(false); // Không tô viền khi chọn nút\r\n        } catch (Exception e) {\r\n            System.out.println(\"Không thể tải hình ảnh: \" + imagePath);\r\n            e.printStackTrace();\r\n        }\r\n        return button;\r\n    }\r\n\r\n    // Phương thức vẽ hình nền\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n        if (backgroundImage != null) {\r\n            g.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), this);\r\n        }\r\n    }\r\n\r\n    // Phương thức đóng cửa sổ, dừng nhạc nền\r\n    @Override\r\n    public void dispose() {\r\n        super.dispose();\r\n        if (musicPlayer != null) {\r\n            musicPlayer.stopBackgroundMusic(); // Dừng nhạc nền khi cửa sổ bị đóng\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/chess/src/StartWindow.java b/chess/src/StartWindow.java
--- a/chess/src/StartWindow.java	(revision 65d58874614389bca752601011692b05b97359f5)
+++ b/chess/src/StartWindow.java	(date 1729876353998)
@@ -37,6 +37,7 @@
         musicPlayer = new BackgroundMusicPlayer();
         musicPlayer.playBackgroundMusic("/sounds/nhacNen.wav"); // Đường dẫn đến âm thanh nền
 
+
         JLabel title = new JLabel("Cờ Tướng AI", JLabel.CENTER);
         title.setFont(new Font("Serif", Font.BOLD, 24));
         add(title, BorderLayout.NORTH);
@@ -56,9 +57,11 @@
 
         // Thêm hành động cho các nút
         startButton.addActionListener(e -> {
-            setVisible(false);
-            main.startGame();
+            musicPlayer.stopBackgroundMusic(); // Dừng nhạc nền
+            setVisible(false); // Ẩn StartWindow
+            main.startGame(); // Khởi động trò chơi
         });
+
         // Uncomment and implement these actions if needed
         // playWithComputerButton.addActionListener(e -> {
         //     main.playWithComputer(); // Gọi phương thức chơi với máy
@@ -147,12 +150,10 @@
         }
     }
 
-    // Phương thức đóng cửa sổ, dừng nhạc nền
+    // Phương thức đóng cửa sổ
     @Override
     public void dispose() {
         super.dispose();
-        if (musicPlayer != null) {
-            musicPlayer.stopBackgroundMusic(); // Dừng nhạc nền khi cửa sổ bị đóng
-        }
+        // Không cần dừng nhạc nền ở đây nữa
     }
 }
Index: chess/src/sounds/BackgroundMusicPlayer.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package sounds;\r\n\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.sound.sampled.FloatControl;\r\nimport java.io.BufferedInputStream;\r\nimport java.io.InputStream;\r\n\r\npublic class BackgroundMusicPlayer {\r\n    private Clip clip;\r\n\r\n    // Phát nhạc nền\r\n    public void playBackgroundMusic(String soundPath) {\r\n        try {\r\n            // Lấy tệp âm thanh từ đường dẫn\r\n            InputStream audioSrc = getClass().getResourceAsStream(soundPath);\r\n            if (audioSrc == null) {\r\n                throw new IllegalArgumentException(\"Tệp âm thanh không tồn tại: \" + soundPath);\r\n            }\r\n            InputStream bufferedIn = new BufferedInputStream(audioSrc);\r\n            AudioInputStream audioStream = AudioSystem.getAudioInputStream(bufferedIn);\r\n\r\n            // Khởi tạo và mở Clip\r\n            clip = AudioSystem.getClip();\r\n            clip.open(audioStream);\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY); // Lặp lại âm thanh\r\n            clip.start(); // Bắt đầu phát âm thanh\r\n\r\n            // Giảm âm lượng\r\n            FloatControl volumeControl = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\r\n            volumeControl.setValue(-20.0f); // Giảm âm lượng xuống 10dB, điều chỉnh giá trị này nếu cần\r\n\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Dừng nhạc nền\r\n    public void stopBackgroundMusic() {\r\n        if (clip != null && clip.isRunning()) {\r\n            clip.stop(); // Dừng phát âm thanh\r\n            clip.close(); // Đóng Clip\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/chess/src/sounds/BackgroundMusicPlayer.java b/chess/src/sounds/BackgroundMusicPlayer.java
--- a/chess/src/sounds/BackgroundMusicPlayer.java	(revision 65d58874614389bca752601011692b05b97359f5)
+++ b/chess/src/sounds/BackgroundMusicPlayer.java	(date 1729876415945)
@@ -29,7 +29,7 @@
 
             // Giảm âm lượng
             FloatControl volumeControl = (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);
-            volumeControl.setValue(-20.0f); // Giảm âm lượng xuống 10dB, điều chỉnh giá trị này nếu cần
+            volumeControl.setValue(-30.0f); // Giảm âm lượng xuống 10dB, điều chỉnh giá trị này nếu cần
 
         } catch (Exception ex) {
             ex.printStackTrace();
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"735147cf-4ebd-4b57-8b55-3209279a0241\" name=\"Changes\" comment=\"test\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/chess/src/quanco/phao.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/chess/src/quanco/phao.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/chess/src/quanco/si.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/chess/src/quanco/si.java\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;meowwon&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/binh2401/doancn.git&quot;,\r\n    &quot;accountId&quot;: &quot;8187ac63-3546-445a-828c-4e61cbce94a8&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 6\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2nwAVsLKTozt4AvqOeQOE86MrgY\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"Application.Main.executor\": \"Run\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"com.google.cloudcode.ide_session_index\": \"20241025_0002\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"kotlin-language-version-configured\": \"true\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Main\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"Main\" />\r\n      <module name=\"doancn\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Application.Main\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"735147cf-4ebd-4b57-8b55-3209279a0241\" name=\"Changes\" comment=\"\" />\r\n      <created>1729873793839</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1729873793839</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"test\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1729874476748</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1729874476748</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"2\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"test\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"test\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 65d58874614389bca752601011692b05b97359f5)
+++ b/.idea/workspace.xml	(date 1729876354071)
@@ -1,13 +1,9 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="AutoImportSettings">
-    <option name="autoReloadType" value="SELECTIVE" />
-  </component>
   <component name="ChangeListManager">
-    <list default="true" id="735147cf-4ebd-4b57-8b55-3209279a0241" name="Changes" comment="test">
+    <list default="true" id="bd27f8f5-7496-423e-bec1-a9577b29ac70" name="Changes" comment="">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/chess/src/quanco/phao.java" beforeDir="false" afterPath="$PROJECT_DIR$/chess/src/quanco/phao.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/chess/src/quanco/si.java" beforeDir="false" afterPath="$PROJECT_DIR$/chess/src/quanco/si.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/chess/src/StartWindow.java" beforeDir="false" afterPath="$PROJECT_DIR$/chess/src/StartWindow.java" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -17,72 +13,53 @@
   <component name="Git.Settings">
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
-  <component name="GitHubPullRequestSearchHistory">{
-  &quot;lastFilter&quot;: {
-    &quot;state&quot;: &quot;OPEN&quot;,
-    &quot;assignee&quot;: &quot;meowwon&quot;
+  <component name="GitHubPullRequestSearchHistory"><![CDATA[{
+  "lastFilter": {
+    "state": "OPEN",
+    "assignee": "SeamussK"
   }
-}</component>
-  <component name="GithubPullRequestsUISettings">{
-  &quot;selectedUrlAndAccountId&quot;: {
-    &quot;url&quot;: &quot;https://github.com/binh2401/doancn.git&quot;,
-    &quot;accountId&quot;: &quot;8187ac63-3546-445a-828c-4e61cbce94a8&quot;
+}]]></component>
+  <component name="GithubPullRequestsUISettings"><![CDATA[{
+  "selectedUrlAndAccountId": {
+    "url": "https://github.com/binh2401/doancn.git",
+    "accountId": "f1471a14-9cc3-47a2-b4b9-accb54996364"
   }
-}</component>
-  <component name="ProjectColorInfo">{
-  &quot;customColor&quot;: &quot;&quot;,
-  &quot;associatedIndex&quot;: 6
-}</component>
-  <component name="ProjectId" id="2nwAVsLKTozt4AvqOeQOE86MrgY" />
+}]]></component>
+  <component name="ProjectColorInfo"><![CDATA[{
+  "customColor": "",
+  "associatedIndex": 6
+}]]></component>
+  <component name="ProjectId" id="2nwFW2XAcNvM2IEYpbE1UJDopY3" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
   <component name="PropertiesComponent"><![CDATA[{
   "keyToString": {
-    "Application.Main.executor": "Run",
+    "Application.Unnamed.executor": "Run",
     "RunOnceActivity.ShowReadmeOnStart": "true",
-    "com.google.cloudcode.ide_session_index": "20241025_0002",
     "git-widget-placeholder": "main",
     "kotlin-language-version-configured": "true"
   }
 }]]></component>
   <component name="RunManager">
-    <configuration name="Main" type="Application" factoryName="Application" temporary="true" nameIsGenerated="true">
+    <configuration name="Unnamed" type="Application" factoryName="Application" nameIsGenerated="true">
       <option name="MAIN_CLASS_NAME" value="Main" />
       <module name="doancn" />
       <method v="2">
         <option name="Make" enabled="true" />
       </method>
     </configuration>
-    <recent_temporary>
-      <list>
-        <item itemvalue="Application.Main" />
-      </list>
-    </recent_temporary>
   </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
   <component name="TaskManager">
     <task active="true" id="Default" summary="Default task">
-      <changelist id="735147cf-4ebd-4b57-8b55-3209279a0241" name="Changes" comment="" />
-      <created>1729873793839</created>
+      <changelist id="bd27f8f5-7496-423e-bec1-a9577b29ac70" name="Changes" comment="" />
+      <created>1729876261503</created>
       <option name="number" value="Default" />
       <option name="presentableId" value="Default" />
-      <updated>1729873793839</updated>
+      <updated>1729876261503</updated>
     </task>
-    <task id="LOCAL-00001" summary="test">
-      <option name="closed" value="true" />
-      <created>1729874476748</created>
-      <option name="number" value="00001" />
-      <option name="presentableId" value="LOCAL-00001" />
-      <option name="project" value="LOCAL" />
-      <updated>1729874476748</updated>
-    </task>
-    <option name="localTasksCounter" value="2" />
     <servers />
   </component>
-  <component name="VcsManagerConfiguration">
-    <MESSAGE value="test" />
-    <option name="LAST_COMMIT_MESSAGE" value="test" />
-  </component>
 </project>
\ No newline at end of file
